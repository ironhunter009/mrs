<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.5">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #4689cc; -webkit-text-stroke: #4689cc}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #8cd3fe; -webkit-text-stroke: #8cd3fe}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #c27e65; -webkit-text-stroke: #c27e65}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #71c083; -webkit-text-stroke: #71c083}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca; min-height: 16.0px}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #6d7378; -webkit-text-stroke: #6d7378}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #36c0a0; -webkit-text-stroke: #36c0a0}
    span.s1 {font-kerning: none; background-color: #171818}
    span.s2 {font-kerning: none; color: #8cd3fe; background-color: #171818; -webkit-text-stroke: 0px #8cd3fe}
    span.s3 {font-kerning: none; color: #6d6d6d; background-color: #171818; -webkit-text-stroke: 0px #6d6d6d}
    span.s4 {font-kerning: none; color: #cacaca; background-color: #171818; -webkit-text-stroke: 0px #cacaca}
    span.s5 {font-kerning: none; color: #c27e65; background-color: #171818; -webkit-text-stroke: 0px #c27e65}
    span.s6 {font-kerning: none; color: #4689cc; background-color: #171818; -webkit-text-stroke: 0px #4689cc}
    span.s7 {font-kerning: none; color: #d4d4d4; background-color: #171818; -webkit-text-stroke: 0px #d4d4d4}
    span.s8 {font-kerning: none; color: #71c083; background-color: #171818; -webkit-text-stroke: 0px #71c083}
    span.s9 {font-kerning: none; color: #a7c598; background-color: #171818; -webkit-text-stroke: 0px #a7c598}
    span.s10 {font-kerning: none; color: #b76ff7; background-color: #171818; -webkit-text-stroke: 0px #b76ff7}
    span.s11 {font-kerning: none}
    span.s12 {font-kerning: none; color: #36c0a0; background-color: #171818; -webkit-text-stroke: 0px #36c0a0}
    span.s13 {font-kerning: none; color: #6d7378; background-color: #171818; -webkit-text-stroke: 0px #6d7378}
    span.s14 {font-kerning: none; color: #f67c30; background-color: #171818; -webkit-text-stroke: 0px #f67c30}
    span.s15 {font-kerning: none; color: #a34f83; background-color: #171818; -webkit-text-stroke: 0px #a34f83}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE</span><span class="s2"> html</span><span class="s1">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">html</span><span class="s4"> </span><span class="s2">lang</span><span class="s3">=</span><span class="s5">"es"</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s1">charset</span><span class="s3">=</span><span class="s5">"UTF-8"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s2">name</span><span class="s3">=</span><span class="s1">"viewport"</span><span class="s4"> </span><span class="s2">content</span><span class="s3">=</span><span class="s1">"width=device-width, initial-scale=1.0"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">title</span><span class="s3">&gt;</span><span class="s1">Extractor de Tablas y Resúmenes de Carreras</span><span class="s3">&lt;/</span><span class="s6">title</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://cdn.tailwindcss.com"</span><span class="s3">&gt;&lt;/</span><span class="s6">script</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">link</span><span class="s4"> </span><span class="s2">href</span><span class="s3">=</span><span class="s1">"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap"</span><span class="s4"> </span><span class="s2">rel</span><span class="s3">=</span><span class="s1">"stylesheet"</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">body</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-family:</span><span class="s1"> </span><span class="s8">'Inter'</span><span class="s7">,</span><span class="s1"> </span><span class="s5">sans-serif</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.spinner</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s9">4px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s7">,</span><span class="s1"> </span><span class="s9">0</span><span class="s7">,</span><span class="s1"> </span><span class="s9">0</span><span class="s7">,</span><span class="s1"> </span><span class="s9">0.1</span><span class="s5">)</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s9">36px</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">height:</span><span class="s1"> </span><span class="s9">36px</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">50%</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-left-color:</span><span class="s4"> #09f</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">animation:</span><span class="s1"> </span><span class="s5">spin</span><span class="s1"> </span><span class="s9">1s</span><span class="s1"> </span><span class="s5">ease</span><span class="s1"> </span><span class="s5">infinite</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">@keyframes</span><span class="s1"> </span><span class="s5">spin</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">0%</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">rotate(</span><span class="s9">0deg</span><span class="s5">)</span><span class="s7">;</span><span class="s1"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">100%</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">rotate(</span><span class="s9">360deg</span><span class="s5">)</span><span class="s7">;</span><span class="s1"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">table</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-collapse:</span><span class="s4"> </span><span class="s5">collapse</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s9">100%</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">margin-top:</span><span class="s1"> </span><span class="s9">20px</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">2px</span><span class="s1"> </span><span class="s9">15px</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s7">,</span><span class="s9">0</span><span class="s7">,</span><span class="s9">0</span><span class="s7">,</span><span class="s9">0.1</span><span class="s5">)</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">8px</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">overflow:</span><span class="s1"> </span><span class="s5">hidden</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">th</span><span class="s7">,</span><span class="s1"> </span><span class="s6">td</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s9">1px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> #e2e8f0</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s9">12px</span><span class="s1"> </span><span class="s9">15px</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">text-align:</span><span class="s1"> </span><span class="s5">left</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">th</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s1"> #f8f9fa</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-weight:</span><span class="s1"> </span><span class="s9">600</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> #334155</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">tr:nth-child</span><span class="s4">(</span><span class="s1">even</span><span class="s4">) </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s1"> #f1f5f9</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">tr:hover</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s1"> #e2e8f0</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.responsive-table-container</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">overflow-x:</span><span class="s1"> </span><span class="s5">auto</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.modal</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">none</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">position:</span><span class="s1"> </span><span class="s5">fixed</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">z-index:</span><span class="s1"> </span><span class="s9">1000</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">left:</span><span class="s1"> </span><span class="s9">0</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">top:</span><span class="s1"> </span><span class="s9">0</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s9">100%</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">height:</span><span class="s1"> </span><span class="s9">100%</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">overflow:</span><span class="s1"> </span><span class="s5">auto</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background-color:</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s7">,</span><span class="s9">0</span><span class="s7">,</span><span class="s9">0</span><span class="s7">,</span><span class="s9">0.4</span><span class="s5">)</span><span class="s7">;</span><span class="s4"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.modal-content</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s1"> #fefefe</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">margin:</span><span class="s1"> </span><span class="s9">10%</span><span class="s1"> </span><span class="s5">auto</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s9">24px</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s9">1px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> #888</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s9">90%</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">max-width:</span><span class="s1"> </span><span class="s9">600px</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">8px</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">text-align:</span><span class="s1"> </span><span class="s5">center</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.modal-close-button</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> #aaa</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">float:</span><span class="s1"> </span><span class="s5">right</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s1"> </span><span class="s9">28px</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-weight:</span><span class="s1"> </span><span class="s5">bold</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.modal-close-button:hover</span><span class="s7">,</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.modal-close-button:focus</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> </span><span class="s5">black</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">text-decoration:</span><span class="s4"> </span><span class="s5">none</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">cursor:</span><span class="s1"> </span><span class="s5">pointer</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">#raceSummaryContainer</span><span class="s4"> </span><span class="s7">{</span><span class="s4"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s9">1px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> #e2e8f0</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s9">16px</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">8px</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s1"> #f8f9fa</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">margin-top:</span><span class="s1"> </span><span class="s9">20px</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">min-height:</span><span class="s1"> </span><span class="s9">100px</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">1px</span><span class="s1"> </span><span class="s9">3px</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s7">,</span><span class="s9">0</span><span class="s7">,</span><span class="s9">0</span><span class="s7">,</span><span class="s9">0.05</span><span class="s5">)</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.summary-spinner-container</span><span class="s4"> </span><span class="s7">{</span><span class="s4"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">flex</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s5">center</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">align-items:</span><span class="s1"> </span><span class="s5">center</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">min-height:</span><span class="s1"> </span><span class="s9">100px</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">select</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">-webkit-appearance:</span><span class="s4"> </span><span class="s5">none</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">-moz-appearance:</span><span class="s4"> </span><span class="s5">none</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">appearance:</span><span class="s1"> </span><span class="s5">none</span><span class="s7">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">background-image:</span><span class="s4"> </span><span class="s5">url</span><span class="s7">(</span><span class="s1">'data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23007AFF%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E'</span><span class="s7">);</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background-repeat:</span><span class="s4"> </span><span class="s5">no-repeat</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background-position:</span><span class="s4"> </span><span class="s5">right</span><span class="s4"> </span><span class="s9">0.7em</span><span class="s4"> </span><span class="s5">top</span><span class="s4"> </span><span class="s9">50%</span><span class="s7">,</span><span class="s4"> </span><span class="s9">0</span><span class="s4"> </span><span class="s9">0</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background-size:</span><span class="s4"> </span><span class="s9">0.65em</span><span class="s4"> </span><span class="s5">auto</span><span class="s7">,</span><span class="s4"> </span><span class="s9">100%</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s3">&lt;</span><span class="s6">body</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-slate-100 text-slate-800 min-h-screen flex flex-col items-center justify-center p-4"</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-white p-8 rounded-lg shadow-xl w-full max-w-2xl"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">header</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mb-8 text-center"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">h1</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"text-3xl font-bold text-sky-600"</span><span class="s3">&gt;</span><span class="s1">Extractor de Tablas y Resúmenes de Carreras</span><span class="s3">&lt;/</span><span class="s6">h1</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"text-slate-500 mt-2"</span><span class="s3">&gt;</span><span class="s1">Sube una imagen con una tabla y la convertiremos para exportar y generar resúmenes.</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">header</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">label</span><span class="s4"> </span><span class="s2">for</span><span class="s3">=</span><span class="s1">"selectCarrera"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"block mb-2 text-sm font-medium text-slate-700"</span><span class="s3">&gt;</span><span class="s4">Carrera (Circuito):</span><span class="s3">&lt;/</span><span class="s6">label</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">select</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"selectCarrera"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-sky-500 focus:border-sky-500 block w-full p-2.5"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">""</span><span class="s3">&gt;</span><span class="s1">Selecciona un circuito...</span><span class="s3">&lt;/</span><span class="s6">option</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">select</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">label</span><span class="s4"> </span><span class="s2">for</span><span class="s3">=</span><span class="s1">"selectDivision"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"block mb-2 text-sm font-medium text-slate-700"</span><span class="s3">&gt;</span><span class="s4">División:</span><span class="s3">&lt;/</span><span class="s6">label</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">select</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"selectDivision"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-sky-500 focus:border-sky-500 block w-full p-2.5"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">""</span><span class="s3">&gt;</span><span class="s1">Selecciona una división...</span><span class="s3">&lt;/</span><span class="s6">option</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">"Division 1"</span><span class="s3">&gt;</span><span class="s1">División 1</span><span class="s3">&lt;/</span><span class="s6">option</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">"Division 2"</span><span class="s3">&gt;</span><span class="s1">División 2</span><span class="s3">&lt;/</span><span class="s6">option</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">"Division 3"</span><span class="s3">&gt;</span><span class="s1">División 3</span><span class="s3">&lt;/</span><span class="s6">option</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">"Division 4"</span><span class="s3">&gt;</span><span class="s1">División 4</span><span class="s3">&lt;/</span><span class="s6">option</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">select</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">label</span><span class="s4"> </span><span class="s2">for</span><span class="s3">=</span><span class="s1">"selectFecha"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"block mb-2 text-sm font-medium text-slate-700"</span><span class="s3">&gt;</span><span class="s4">Fecha (Número):</span><span class="s3">&lt;/</span><span class="s6">label</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">select</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"selectFecha"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-sky-500 focus:border-sky-500 block w-full p-2.5"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">""</span><span class="s3">&gt;</span><span class="s1">Selecciona una fecha...</span><span class="s3">&lt;/</span><span class="s6">option</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">select</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"mb-6"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">label</span><span class="s4"> </span><span class="s2">for</span><span class="s3">=</span><span class="s1">"imageUpload"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"block mb-2 text-sm font-medium text-slate-700"</span><span class="s3">&gt;</span><span class="s4">Sube tu imagen de resultados:</span><span class="s3">&lt;/</span><span class="s6">label</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">input</span><span class="s4"> </span><span class="s1">type</span><span class="s3">=</span><span class="s5">"file"</span><span class="s4"> </span><span class="s1">id</span><span class="s3">=</span><span class="s5">"imageUpload"</span><span class="s4"> </span><span class="s1">accept</span><span class="s3">=</span><span class="s5">"image/*"</span><span class="s4"> </span><span class="s1">class</span><span class="s3">=</span><span class="s4">"</span><span class="s1">block</span><span class="s4"> </span><span class="s1">w-full</span><span class="s4"> </span><span class="s1">text-sm</span><span class="s4"> </span><span class="s1">text-slate-500</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">file</span><span class="s4">:</span><span class="s1">mr-4</span><span class="s4"> </span><span class="s1">file</span><span class="s4">:</span><span class="s1">py-2</span><span class="s4"> </span><span class="s1">file</span><span class="s4">:</span><span class="s1">px-4</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">file</span><span class="s4">:</span><span class="s1">rounded-md</span><span class="s4"> </span><span class="s1">file</span><span class="s4">:</span><span class="s1">border-0</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">file</span><span class="s4">:</span><span class="s1">text-sm</span><span class="s4"> </span><span class="s1">file</span><span class="s4">:</span><span class="s1">font-semibold</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">file</span><span class="s4">:</span><span class="s1">bg-sky-50</span><span class="s4"> </span><span class="s1">file</span><span class="s4">:</span><span class="s1">text-sky-700</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">hover</span><span class="s4">:</span><span class="s1">file</span><span class="s4">:</span><span class="s1">bg-sky-100</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span>"</span><span class="s3">/&gt;</span><span class="s4"> </span><span class="s1">&lt;!-- Habilitado por defecto --&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"imagePreviewContainer"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mb-6 hidden text-center"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">img</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"imagePreview"</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"#"</span><span class="s4"> </span><span class="s2">alt</span><span class="s3">=</span><span class="s1">"Vista previa de la imagen"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"max-w-full max-h-60 mx-auto rounded-md shadow-md"</span><span class="s3">/&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"extractButton"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full bg-sky-600 hover:bg-sky-700 text-white font-bold py-3 px-4 rounded-md transition duration-150 ease-in-out flex items-center justify-center disabled:opacity-50"</span><span class="s4"> </span><span class="s2">disabled</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">svg</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"extractIcon"</span><span class="s4"> </span><span class="s2">xmlns</span><span class="s3">=</span><span class="s1">"http://www.w3.org/2000/svg"</span><span class="s4"> </span><span class="s2">width</span><span class="s3">=</span><span class="s1">"20"</span><span class="s4"> </span><span class="s2">height</span><span class="s3">=</span><span class="s1">"20"</span><span class="s4"> </span><span class="s2">viewBox</span><span class="s3">=</span><span class="s1">"0 0 24 24"</span><span class="s4"> </span><span class="s2">fill</span><span class="s3">=</span><span class="s1">"none"</span><span class="s4"> </span><span class="s2">stroke</span><span class="s3">=</span><span class="s1">"currentColor"</span><span class="s4"> </span><span class="s2">stroke-width</span><span class="s3">=</span><span class="s1">"2"</span><span class="s4"> </span><span class="s2">stroke-linecap</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">stroke-linejoin</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mr-2"</span><span class="s3">&gt;&lt;</span><span class="s6">path</span><span class="s4"> </span><span class="s2">d</span><span class="s3">=</span><span class="s1">"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"</span><span class="s3">&gt;&lt;/</span><span class="s6">path</span><span class="s3">&gt;&lt;</span><span class="s6">polyline</span><span class="s4"> </span><span class="s2">points</span><span class="s3">=</span><span class="s1">"7 10 12 15 17 10"</span><span class="s3">&gt;&lt;/</span><span class="s6">polyline</span><span class="s3">&gt;&lt;</span><span class="s6">line</span><span class="s4"> </span><span class="s2">x1</span><span class="s3">=</span><span class="s1">"12"</span><span class="s4"> </span><span class="s2">y1</span><span class="s3">=</span><span class="s1">"15"</span><span class="s4"> </span><span class="s2">x2</span><span class="s3">=</span><span class="s1">"12"</span><span class="s4"> </span><span class="s2">y2</span><span class="s3">=</span><span class="s1">"3"</span><span class="s3">&gt;&lt;/</span><span class="s6">line</span><span class="s3">&gt;&lt;/</span><span class="s6">svg</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">span</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"extractButtonText"</span><span class="s3">&gt;</span><span class="s1">Extraer Tabla</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"loadingSpinner"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"spinner ml-2 hidden"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"errorMessageGlobal"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mt-4 text-red-600 text-sm hidden text-center p-3 bg-red-100 rounded-md"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"tableContainer"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mt-8 responsive-table-container"</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">&lt;!-- La tabla generada se insertará aquí --&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"actionsContainer"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mt-4 hidden space-y-3"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">             </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"exportButton"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 px-4 rounded-md transition duration-150 ease-in-out flex items-center justify-center"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">svg</span><span class="s4"> </span><span class="s2">xmlns</span><span class="s3">=</span><span class="s1">"http://www.w3.org/2000/svg"</span><span class="s4"> </span><span class="s2">width</span><span class="s3">=</span><span class="s1">"20"</span><span class="s4"> </span><span class="s2">height</span><span class="s3">=</span><span class="s1">"20"</span><span class="s4"> </span><span class="s2">viewBox</span><span class="s3">=</span><span class="s1">"0 0 24 24"</span><span class="s4"> </span><span class="s2">fill</span><span class="s3">=</span><span class="s1">"none"</span><span class="s4"> </span><span class="s2">stroke</span><span class="s3">=</span><span class="s1">"currentColor"</span><span class="s4"> </span><span class="s2">stroke-width</span><span class="s3">=</span><span class="s1">"2"</span><span class="s4"> </span><span class="s2">stroke-linecap</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">stroke-linejoin</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mr-2"</span><span class="s3">&gt;&lt;</span><span class="s6">path</span><span class="s4"> </span><span class="s2">d</span><span class="s3">=</span><span class="s1">"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"</span><span class="s3">&gt;&lt;/</span><span class="s6">path</span><span class="s3">&gt;&lt;</span><span class="s6">polyline</span><span class="s4"> </span><span class="s2">points</span><span class="s3">=</span><span class="s1">"7 10 12 15 17 10"</span><span class="s3">&gt;&lt;/</span><span class="s6">polyline</span><span class="s3">&gt;&lt;</span><span class="s6">line</span><span class="s4"> </span><span class="s2">x1</span><span class="s3">=</span><span class="s1">"12"</span><span class="s4"> </span><span class="s2">y1</span><span class="s3">=</span><span class="s1">"15"</span><span class="s4"> </span><span class="s2">x2</span><span class="s3">=</span><span class="s1">"12"</span><span class="s4"> </span><span class="s2">y2</span><span class="s3">=</span><span class="s1">"3"</span><span class="s3">&gt;&lt;/</span><span class="s6">line</span><span class="s3">&gt;&lt;/</span><span class="s6">svg</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>Exportar a CSV</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">             </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"generateSummaryButton"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-4 rounded-md transition duration-150 ease-in-out flex items-center justify-center"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>✨ </span><span class="s3">&lt;</span><span class="s6">span</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"ml-2"</span><span class="s3">&gt;</span><span class="s1">Generar Resumen de Carrera (Texto)</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"summaryLoadingSpinner"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"spinner ml-2 hidden"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">&lt;!-- Botón de Resetear Puntos Acumulados ELIMINADO --&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"raceSummaryContainer"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"hidden"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">h3</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-xl font-semibold text-slate-700 mb-3"</span><span class="s3">&gt;</span><span class="s4">Resumen de la Carrera por IA:</span><span class="s3">&lt;/</span><span class="s6">h3</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"raceSummaryContent"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-slate-600"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"messageModal"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"modal"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"modal-content"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"modal-close-button"</span><span class="s4"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"closeModal()"</span><span class="s3">&gt;</span><span class="s4">&amp;times;</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"modalMessageText"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-left whitespace-pre-wrap"</span><span class="s3">&gt;&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span><span class="s4"><span class="Apple-converted-space"> </span></span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"closeModal()"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mt-4 bg-sky-600 hover:bg-sky-700 text-white font-bold py-2 px-4 rounded-md"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>Entendido</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">footer</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-center text-slate-500 mt-10 text-sm"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s3">&gt;</span><span class="s1">Potenciado por IA. La precisión de la extracción puede variar.</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">footer</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Selectores de elementos del DOM</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> imageUpload </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'imageUpload'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> imagePreviewContainer </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'imagePreviewContainer'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> imagePreview </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'imagePreview'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> extractButton </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'extractButton'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> extractIcon </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'extractIcon'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> extractButtonText </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'extractButtonText'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> loadingSpinner </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'loadingSpinner'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> tableContainer </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'tableContainer'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> exportButton </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'exportButton'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> errorMessageGlobal </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'errorMessageGlobal'</span><span class="s7">);</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> messageModal </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'messageModal'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> modalMessageText </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'modalMessageText'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> actionsContainer </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'actionsContainer'</span><span class="s7">);</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> selectCarrera </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'selectCarrera'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> selectDivision </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'selectDivision'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> selectFecha </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'selectFecha'</span><span class="s7">);</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> generateSummaryButton </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'generateSummaryButton'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> raceSummaryContainer </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'raceSummaryContainer'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> raceSummaryContent </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'raceSummaryContent'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> summaryLoadingSpinner </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'summaryLoadingSpinner'</span><span class="s7">);</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// const resetAccumulatedButton ELIMINADO</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">let</span><span class="s1"> rawTableData </span><span class="s7">=</span><span class="s1"> </span><span class="s10">null</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">let</span><span class="s1"> base64ImageData </span><span class="s7">=</span><span class="s1"> </span><span class="s10">null</span><span class="s7">;</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// let accumulatedResultsByPilot ELIMINADO</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s4"> </span><span class="s12">USER_ADDED_HEADERS</span><span class="s4"> </span><span class="s7">=</span><span class="s4"> </span><span class="s7">[</span><span class="s1">"CARRERA"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"DIVISION"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"FECHA"</span><span class="s7">];</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s4"> </span><span class="s12">AI_EXTRACTED_HEADERS</span><span class="s4"> </span><span class="s7">=</span><span class="s4"> </span><span class="s7">[</span><span class="s1">"POS."</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"PILOTO"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"EQUIPO"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"PARRILLA"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"PARADAS"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"MEJOR_TIEMPO"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"TIEMPO"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"PTS."</span><span class="s7">];</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// const ACCUMULATED_COLUMN_HEADER ELIMINADO</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s4"> </span><span class="s1">ALL_TABLE_HEADERS</span><span class="s4"> </span><span class="s7">=</span><span class="s4"> </span><span class="s7">[...</span><span class="s1">USER_ADDED_HEADERS</span><span class="s7">,</span><span class="s4"> </span><span class="s7">...</span><span class="s1">AI_EXTRACTED_HEADERS</span><span class="s7">];</span><span class="s4"> </span><span class="s13">// Ya no incluye la columna de acumulados</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Calendario F1 2025</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> f1_2025_calendar </span><span class="s7">=</span><span class="s1"> </span><span class="s7">[</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">"Melbourne (Australia)"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"Shanghai (China)"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"Suzuka (Japón)"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"Sakhir (Bahréin)"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"Jeddah (Arabia Saudita)"</span><span class="s7">,</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">"Miami (EE.UU.)"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"Imola (Emilia Romaña)"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"Mónaco"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"Barcelona (España)"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"Montreal (Canadá)"</span><span class="s7">,</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">"Spielberg (Austria)"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"Silverstone (Gran Bretaña)"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"Spa (Bélgica)"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"Budapest (Hungría)"</span><span class="s7">,</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">"Zandvoort (Países Bajos)"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"Monza (Italia)"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"Bakú (Azerbaiyán)"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"Singapur"</span><span class="s7">,</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">"Austin (EE.UU.)"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"Ciudad de México (México)"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"Sao Paulo (Brasil)"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"Las Vegas (EE.UU.)"</span><span class="s7">,</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">"Lusail (Qatar)"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"Yas Marina (Abu Dhabi)"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"Otro/No listado"</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>f1_2025_calendar</span><span class="s7">.</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">track </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> selectCarrera</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s10">new</span><span class="s1"> </span><span class="s12">Option</span><span class="s7">(</span><span class="s1">track</span><span class="s7">,</span><span class="s1"> track</span><span class="s7">));</span><span class="s1"> </span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">for</span><span class="s1"> </span><span class="s7">(</span><span class="s10">let</span><span class="s1"> i </span><span class="s7">=</span><span class="s1"> </span><span class="s14">1</span><span class="s7">;</span><span class="s1"> i </span><span class="s7">&lt;=</span><span class="s1"> </span><span class="s14">24</span><span class="s7">;</span><span class="s1"> i</span><span class="s7">++)</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> selectFecha</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s10">new</span><span class="s1"> </span><span class="s12">Option</span><span class="s7">(</span><span class="s8">`Fecha </span><span class="s7">${</span><span class="s1">i</span><span class="s7">}</span><span class="s8">`</span><span class="s7">,</span><span class="s1"> </span><span class="s8">`Fecha </span><span class="s7">${</span><span class="s1">i</span><span class="s7">}</span><span class="s8">`</span><span class="s7">));</span><span class="s1"> </span><span class="s7">}</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- Funciones del Modal ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s7">.</span><span class="s1">showModal </span><span class="s7">=</span><span class="s1"> </span><span class="s10">function</span><span class="s7">(</span><span class="s1">message</span><span class="s7">,</span><span class="s1"> isError </span><span class="s7">=</span><span class="s1"> </span><span class="s10">false</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>modalMessageText</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> message</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>modalMessageText</span><span class="s7">.</span><span class="s1">className </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'text-left whitespace-pre-wrap'</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">isError</span><span class="s7">)</span><span class="s1"> modalMessageText</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'text-red-600'</span><span class="s7">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Asegurar que el botón "Entendido" sea visible y no haya otros botones de confirmación</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> modalContent </span><span class="s7">=</span><span class="s1"> messageModal</span><span class="s7">.</span><span class="s1">querySelector</span><span class="s7">(</span><span class="s8">'.modal-content'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">Array</span><span class="s7">.</span><span class="s10">from</span><span class="s7">(</span><span class="s1">modalContent</span><span class="s7">.</span><span class="s1">querySelectorAll</span><span class="s7">(</span><span class="s8">'button'</span><span class="s7">)).</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">btn </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">if</span><span class="s7">(</span><span class="s1">btn</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">!==</span><span class="s1"> </span><span class="s8">'Entendido'</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>btn</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span><span class="s1"> </span><span class="s10">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                    </span>btn</span><span class="s7">.</span><span class="s4">style</span><span class="s7">.</span><span class="s4">display </span><span class="s7">=</span><span class="s4"> </span><span class="s8">'inline-block'</span><span class="s7">;</span><span class="s4"> </span><span class="s1">// Asegurar que el botón "Entendido" esté visible</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>messageModal</span><span class="s7">.</span><span class="s1">style</span><span class="s7">.</span><span class="s1">display </span><span class="s7">=</span><span class="s1"> </span><span class="s8">"block"</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s7">.</span><span class="s1">closeModal </span><span class="s7">=</span><span class="s1"> </span><span class="s10">function</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>messageModal</span><span class="s7">.</span><span class="s1">style</span><span class="s7">.</span><span class="s1">display </span><span class="s7">=</span><span class="s1"> </span><span class="s8">"none"</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s7">.</span><span class="s1">onclick </span><span class="s7">=</span><span class="s1"> </span><span class="s10">function</span><span class="s7">(</span><span class="s1">event</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">event</span><span class="s7">.</span><span class="s1">target </span><span class="s7">==</span><span class="s1"> messageModal</span><span class="s7">)</span><span class="s1"> closeModal</span><span class="s7">();</span><span class="s1"> </span><span class="s7">}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- Funciones UI ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">function</span><span class="s1"> resetUIBeforeExtract</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>errorMessageGlobal</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>tableContainer</span><span class="s7">.</span><span class="s1">innerHTML </span><span class="s7">=</span><span class="s1"> </span><span class="s8">''</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>actionsContainer</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>raceSummaryContainer</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>raceSummaryContent</span><span class="s7">.</span><span class="s1">innerHTML </span><span class="s7">=</span><span class="s1"> </span><span class="s8">''</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>rawTableData </span><span class="s7">=</span><span class="s1"> </span><span class="s10">null</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">function</span><span class="s1"> resetUIForNewImageUpload</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">             </span>resetUIBeforeExtract</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">function</span><span class="s1"> checkEnableExtractButton</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Ya no depende de isFirebaseReady</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>extractButton</span><span class="s7">.</span><span class="s1">disabled </span><span class="s7">=</span><span class="s1"> </span><span class="s7">!(</span><span class="s1">base64ImageData </span><span class="s7">&amp;&amp;</span><span class="s1"> selectCarrera</span><span class="s7">.</span><span class="s1">value </span><span class="s7">&amp;&amp;</span><span class="s1"> selectDivision</span><span class="s7">.</span><span class="s1">value </span><span class="s7">&amp;&amp;</span><span class="s1"> selectFecha</span><span class="s7">.</span><span class="s1">value</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">[</span><span class="s1">selectCarrera</span><span class="s7">,</span><span class="s1"> selectDivision</span><span class="s7">,</span><span class="s1"> selectFecha</span><span class="s7">].</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">sel </span><span class="s7">=&gt;</span><span class="s1"> sel</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'change'</span><span class="s7">,</span><span class="s1"> checkEnableExtractButton</span><span class="s7">));</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- Manejador de carga de imagen ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>imageUpload</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'change'</span><span class="s7">,</span><span class="s1"> </span><span class="s10">function</span><span class="s7">(</span><span class="s1">event</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> file </span><span class="s7">=</span><span class="s1"> event</span><span class="s7">.</span><span class="s1">target</span><span class="s7">.</span><span class="s1">files</span><span class="s7">[</span><span class="s14">0</span><span class="s7">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>resetUIForNewImageUpload</span><span class="s7">();</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">file</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> reader </span><span class="s7">=</span><span class="s1"> </span><span class="s10">new</span><span class="s1"> </span><span class="s12">FileReader</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>reader</span><span class="s7">.</span><span class="s1">onload </span><span class="s7">=</span><span class="s1"> </span><span class="s10">function</span><span class="s7">(</span><span class="s1">e</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>imagePreview</span><span class="s7">.</span><span class="s1">src </span><span class="s7">=</span><span class="s1"> e</span><span class="s7">.</span><span class="s1">target</span><span class="s7">.</span><span class="s1">result</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>imagePreviewContainer</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>base64ImageData </span><span class="s7">=</span><span class="s1"> e</span><span class="s7">.</span><span class="s1">target</span><span class="s7">.</span><span class="s1">result</span><span class="s7">.</span><span class="s1">split</span><span class="s7">(</span><span class="s8">','</span><span class="s7">)[</span><span class="s14">1</span><span class="s7">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>checkEnableExtractButton</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>reader</span><span class="s7">.</span><span class="s1">readAsDataURL</span><span class="s7">(</span><span class="s1">file</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s10">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>imagePreviewContainer</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>base64ImageData </span><span class="s7">=</span><span class="s1"> </span><span class="s10">null</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>checkEnableExtractButton</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- Extracción de Tabla ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>extractButton</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s10">async</span><span class="s1"> </span><span class="s10">function</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">base64ImageData </span><span class="s7">||</span><span class="s1"> </span><span class="s7">!</span><span class="s1">selectCarrera</span><span class="s7">.</span><span class="s1">value </span><span class="s7">||</span><span class="s1"> </span><span class="s7">!</span><span class="s1">selectDivision</span><span class="s7">.</span><span class="s1">value </span><span class="s7">||</span><span class="s1"> </span><span class="s7">!</span><span class="s1">selectFecha</span><span class="s7">.</span><span class="s1">value</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span>showModal</span><span class="s7">(</span><span class="s1">'Por favor, selecciona una carrera, división, fecha y carga una imagen antes de extraer.'</span><span class="s7">,</span><span class="s4"> </span><span class="s10">true</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>extractButton</span><span class="s7">.</span><span class="s1">disabled </span><span class="s7">=</span><span class="s1"> </span><span class="s10">true</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>loadingSpinner</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>extractIcon</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>extractButtonText</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'Extrayendo...'</span><span class="s7">;</span><span class="s1"> </span><span class="s13">// Texto del botón revertido</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>resetUIBeforeExtract</span><span class="s7">();</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> selectedCarreraValue </span><span class="s7">=</span><span class="s1"> selectCarrera</span><span class="s7">.</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> selectedDivisionValue </span><span class="s7">=</span><span class="s1"> selectDivision</span><span class="s7">.</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> selectedFechaValue </span><span class="s7">=</span><span class="s1"> selectFecha</span><span class="s7">.</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">try</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s4"> prompt </span><span class="s7">=</span><span class="s4"> </span><span class="s1">`Analiza la siguiente imagen que contiene una tabla de resultados de carreras.<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>Extrae la información de la tabla. Las columnas que debes generar en el JSON son estrictamente:<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>"POS.", "PILOTO", "EQUIPO", "PARRILLA", "PARADAS", "MEJOR_TIEMPO", "TIEMPO", "PTS.".</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>IMPORTANTE: La imagen podría mostrar "PARRILLA PARADAS MEJOR TIEMPO" como un solo encabezado visual que agrupa tres datos.<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>Incluso en ese caso, los datos debajo corresponden a tres columnas separadas.<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>Debes interpretar esto y generar tres campos distintos en el JSON:<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>"PARRILLA" (para la posición de salida),<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>"PARADAS" (para el número de paradas en pits), y<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>"MEJOR_TIEMPO" (para el mejor tiempo de vuelta individual, usualmente en formato como M:SS.mmm o SS.mmm).</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>Asegúrate de que cada fila sea un objeto JSON y el resultado final sea un array de estos objetos.<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>Si una celda está vacía, no es aplicable (por ejemplo, "DNF" en la columna TIEMPO o un espacio vacío), usa una cadena vacía "" o null para ese campo en el JSON.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>Si la estructura general no coincide con una tabla de resultados con estas 8 columnas clave, o si la imagen es ilegible, indica que el formato no es el esperado o la imagen no es clara.`</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> schema </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>type</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"ARRAY"</span><span class="s7">,</span><span class="s1"> items</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> type</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"OBJECT"</span><span class="s7">,</span><span class="s1"> properties</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">"POS."</span><span class="s7">:</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> </span><span class="s1">"type"</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"STRING"</span><span class="s4"> </span><span class="s7">},</span><span class="s4"> </span><span class="s1">"PILOTO"</span><span class="s7">:</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> </span><span class="s1">"type"</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"STRING"</span><span class="s4"> </span><span class="s7">},</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">"EQUIPO"</span><span class="s7">:</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> </span><span class="s1">"type"</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"STRING"</span><span class="s4"> </span><span class="s7">},</span><span class="s4"> </span><span class="s1">"PARRILLA"</span><span class="s7">:</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> </span><span class="s1">"type"</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"STRING"</span><span class="s4"> </span><span class="s7">},</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">"PARADAS"</span><span class="s7">:</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> </span><span class="s1">"type"</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"STRING"</span><span class="s4"> </span><span class="s7">},</span><span class="s4"> </span><span class="s1">"MEJOR_TIEMPO"</span><span class="s7">:</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> </span><span class="s1">"type"</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"STRING"</span><span class="s4"> </span><span class="s7">},</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">"TIEMPO"</span><span class="s7">:</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> </span><span class="s1">"type"</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"STRING"</span><span class="s4"> </span><span class="s7">},</span><span class="s4"> </span><span class="s1">"PTS."</span><span class="s7">:</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> </span><span class="s1">"type"</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"STRING"</span><span class="s4"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">},</span><span class="s1"> required</span><span class="s7">:</span><span class="s1"> </span><span class="s12">AI_EXTRACTED_HEADERS</span><span class="s1"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> payload </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>contents</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> role</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"user"</span><span class="s7">,</span><span class="s1"> parts</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> text</span><span class="s7">:</span><span class="s1"> prompt </span><span class="s7">},</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> inlineData</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> mimeType</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"image/jpeg"</span><span class="s7">,</span><span class="s1"> data</span><span class="s7">:</span><span class="s1"> base64ImageData </span><span class="s7">}</span><span class="s1"> </span><span class="s7">}</span><span class="s1"> </span><span class="s7">]</span><span class="s1"> </span><span class="s7">}</span><span class="s1"> </span><span class="s7">],</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>generationConfig</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> responseMimeType</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"application/json"</span><span class="s7">,</span><span class="s1"> responseSchema</span><span class="s7">:</span><span class="s1"> schema </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> geminiApiKey </span><span class="s7">=</span><span class="s1"> </span><span class="s8">""</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s4"> geminiApiUrl </span><span class="s7">=</span><span class="s4"> </span><span class="s1">`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=</span><span class="s7">${</span><span class="s4">geminiApiKey</span><span class="s7">}</span><span class="s1">`</span><span class="s7">;</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> response </span><span class="s7">=</span><span class="s1"> </span><span class="s10">await</span><span class="s1"> fetch</span><span class="s7">(</span><span class="s1">geminiApiUrl</span><span class="s7">,</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> method</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'POST'</span><span class="s7">,</span><span class="s1"> headers</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s8">'Content-Type'</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'application/json'</span><span class="s1"> </span><span class="s7">},</span><span class="s1"> body</span><span class="s7">:</span><span class="s1"> </span><span class="s12">JSON</span><span class="s7">.</span><span class="s1">stringify</span><span class="s7">(</span><span class="s1">payload</span><span class="s7">)</span><span class="s1"> </span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">response</span><span class="s7">.</span><span class="s1">ok</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s10">const</span><span class="s1"> errorBody </span><span class="s7">=</span><span class="s1"> </span><span class="s10">await</span><span class="s1"> response</span><span class="s7">.</span><span class="s1">text</span><span class="s7">();</span><span class="s1"> </span><span class="s10">throw</span><span class="s1"> </span><span class="s10">new</span><span class="s1"> </span><span class="s12">Error</span><span class="s7">(</span><span class="s8">`API Tabla: </span><span class="s7">${</span><span class="s1">response</span><span class="s7">.</span><span class="s1">status</span><span class="s7">}</span><span class="s8">. </span><span class="s7">${</span><span class="s1">errorBody</span><span class="s7">}</span><span class="s8">`</span><span class="s7">);</span><span class="s1"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> result </span><span class="s7">=</span><span class="s1"> </span><span class="s10">await</span><span class="s1"> response</span><span class="s7">.</span><span class="s1">json</span><span class="s7">();</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">result</span><span class="s7">.</span><span class="s1">candidates </span><span class="s7">&amp;&amp;</span><span class="s1"> result</span><span class="s7">.</span><span class="s1">candidates</span><span class="s7">[</span><span class="s14">0</span><span class="s7">]?.</span><span class="s1">content</span><span class="s7">?.</span><span class="s1">parts</span><span class="s7">?.[</span><span class="s14">0</span><span class="s7">]?.</span><span class="s1">text</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">const</span><span class="s1"> textData </span><span class="s7">=</span><span class="s1"> result</span><span class="s7">.</span><span class="s1">candidates</span><span class="s7">[</span><span class="s14">0</span><span class="s7">].</span><span class="s1">content</span><span class="s7">.</span><span class="s1">parts</span><span class="s7">[</span><span class="s14">0</span><span class="s7">].</span><span class="s1">text</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">try</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s10">let</span><span class="s1"> parsedDataFromAI </span><span class="s7">=</span><span class="s1"> </span><span class="s12">JSON</span><span class="s7">.</span><span class="s1">parse</span><span class="s7">(</span><span class="s1">textData</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s12">Array</span><span class="s7">.</span><span class="s1">isArray</span><span class="s7">(</span><span class="s1">parsedDataFromAI</span><span class="s7">)</span><span class="s1"> </span><span class="s7">&amp;&amp;</span><span class="s1"> parsedDataFromAI</span><span class="s7">.</span><span class="s1">length </span><span class="s7">&gt;</span><span class="s1"> </span><span class="s14">0</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s10">const</span><span class="s1"> extractedHeaders </span><span class="s7">=</span><span class="s1"> </span><span class="s12">Object</span><span class="s7">.</span><span class="s1">keys</span><span class="s7">(</span><span class="s1">parsedDataFromAI</span><span class="s7">[</span><span class="s14">0</span><span class="s7">]);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s10">const</span><span class="s1"> headersMatchStrict </span><span class="s7">=</span><span class="s1"> </span><span class="s12">AI_EXTRACTED_HEADERS</span><span class="s7">.</span><span class="s1">length </span><span class="s7">===</span><span class="s1"> extractedHeaders</span><span class="s7">.</span><span class="s1">length </span><span class="s7">&amp;&amp;</span><span class="s1"> </span><span class="s12">AI_EXTRACTED_HEADERS</span><span class="s7">.</span><span class="s1">every</span><span class="s7">((</span><span class="s1">v</span><span class="s7">,</span><span class="s1"> i</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> v </span><span class="s7">===</span><span class="s1"> extractedHeaders</span><span class="s7">[</span><span class="s1">i</span><span class="s7">]);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s10">let</span><span class="s1"> currentRaceProcessedData </span><span class="s7">=</span><span class="s1"> </span><span class="s7">[];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">headersMatchStrict</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span>currentRaceProcessedData </span><span class="s7">=</span><span class="s1"> parsedDataFromAI</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s10">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span></span><span class="s10">const</span><span class="s1"> allExpectedPresent </span><span class="s7">=</span><span class="s1"> </span><span class="s12">AI_EXTRACTED_HEADERS</span><span class="s7">.</span><span class="s1">every</span><span class="s7">(</span><span class="s1">eh </span><span class="s7">=&gt;</span><span class="s1"> extractedHeaders</span><span class="s7">.</span><span class="s1">includes</span><span class="s7">(</span><span class="s1">eh</span><span class="s7">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">allExpectedPresent </span><span class="s7">&amp;&amp;</span><span class="s1"> extractedHeaders</span><span class="s7">.</span><span class="s1">length </span><span class="s7">&gt;=</span><span class="s1"> </span><span class="s12">AI_EXTRACTED_HEADERS</span><span class="s7">.</span><span class="s1">length</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                    </span>currentRaceProcessedData </span><span class="s7">=</span><span class="s1"> parsedDataFromAI</span><span class="s7">.</span><span class="s1">map</span><span class="s7">(</span><span class="s1">row </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                        </span></span><span class="s10">const</span><span class="s1"> newRow </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                        </span></span><span class="s12">AI_EXTRACTED_HEADERS</span><span class="s7">.</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">h </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> newRow</span><span class="s7">[</span><span class="s1">h</span><span class="s7">]</span><span class="s1"> </span><span class="s7">=</span><span class="s1"> row</span><span class="s7">[</span><span class="s1">h</span><span class="s7">];</span><span class="s1"> </span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                        </span></span><span class="s10">return</span><span class="s1"> newRow</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                    </span></span><span class="s7">});</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                                    </span>showModal</span><span class="s7">(</span><span class="s1">"Advertencia: Columnas de la IA reordenadas. Revisa la tabla."</span><span class="s7">,</span><span class="s4"> </span><span class="s10">false</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span></span><span class="s7">}</span><span class="s1"> </span><span class="s10">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                                    </span></span><span class="s10">throw</span><span class="s4"> </span><span class="s10">new</span><span class="s4"> </span><span class="s12">Error</span><span class="s7">(</span><span class="s1">`Columnas de IA no coinciden. Esperadas: </span><span class="s7">${</span><span class="s12">AI_EXTRACTED_HEADERS</span><span class="s7">.</span><span class="s4">join</span><span class="s7">(</span><span class="s1">", "</span><span class="s7">)}</span><span class="s1">. Obtenidas: </span><span class="s7">${</span><span class="s4">extractedHeaders</span><span class="s7">.</span><span class="s4">join</span><span class="s7">(</span><span class="s1">", "</span><span class="s7">)}</span><span class="s1">`</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                            </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s1">// Añadir datos de los selects a cada fila</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span>rawTableData </span><span class="s7">=</span><span class="s1"> currentRaceProcessedData</span><span class="s7">.</span><span class="s1">map</span><span class="s7">(</span><span class="s1">row </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">({</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span></span><span class="s12">CARRERA</span><span class="s7">:</span><span class="s1"> selectedCarreraValue</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span></span><span class="s12">DIVISION</span><span class="s7">:</span><span class="s1"> selectedDivisionValue</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span></span><span class="s12">FECHA</span><span class="s7">:</span><span class="s1"> selectedFechaValue</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span></span><span class="s7">...</span><span class="s1">row</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                                </span></span><span class="s1">// Ya no se añade PUNTOS_ACUMULADOS aquí</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s7">}));</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s1">// Ya no se llama a saveAccumulatedPoints()</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span>displayTable</span><span class="s7">(</span><span class="s1">rawTableData</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span>actionsContainer</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s7">}</span><span class="s4"> </span><span class="s10">else</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> </span><span class="s10">throw</span><span class="s4"> </span><span class="s10">new</span><span class="s4"> </span><span class="s12">Error</span><span class="s7">(</span><span class="s1">"IA devolvió datos vacíos o formato inesperado."</span><span class="s7">);</span><span class="s4"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">}</span><span class="s1"> </span><span class="s10">catch</span><span class="s1"> </span><span class="s7">(</span><span class="s1">e</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>console</span><span class="s7">.</span><span class="s1">error</span><span class="s7">(</span><span class="s8">"Error parseo/validación:"</span><span class="s7">,</span><span class="s1"> e</span><span class="s7">,</span><span class="s1"> </span><span class="s8">"Data:"</span><span class="s7">,</span><span class="s1"> textData</span><span class="s7">);</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                        </span>showModal</span><span class="s7">(</span><span class="s1">`IA no procesó tabla correctamente. Error: </span><span class="s7">${</span><span class="s4">e</span><span class="s7">.</span><span class="s4">message</span><span class="s7">}</span><span class="s1">\nRespuesta IA (inicio): </span><span class="s7">${</span><span class="s4">textData </span><span class="s7">?</span><span class="s4"> textData</span><span class="s7">.</span><span class="s4">substring</span><span class="s7">(</span><span class="s14">0</span><span class="s7">,</span><span class="s14">100</span><span class="s7">)</span><span class="s4"> </span><span class="s7">:</span><span class="s4"> </span><span class="s1">"N/A"</span><span class="s7">}</span><span class="s1">`</span><span class="s7">,</span><span class="s4"> </span><span class="s10">true</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>rawTableData </span><span class="s7">=</span><span class="s1"> </span><span class="s10">null</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span><span class="s1"> </span><span class="s10">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s10">let</span><span class="s4"> detailedError </span><span class="s7">=</span><span class="s4"> </span><span class="s1">"No se encontraron candidatos válidos en la respuesta de la API de extracción de tabla."</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">result</span><span class="s7">.</span><span class="s1">promptFeedback</span><span class="s7">?.</span><span class="s1">blockReason</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> detailedError </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`Extracción bloqueada. Razón: </span><span class="s7">${</span><span class="s1">result</span><span class="s7">.</span><span class="s1">promptFeedback</span><span class="s7">.</span><span class="s1">blockReason</span><span class="s7">}</span><span class="s8">.`</span><span class="s7">;</span><span class="s1"> </span><span class="s7">}</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">else</span><span class="s1"> </span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">result</span><span class="s7">.</span><span class="s1">error</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> detailedError </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`API Error: </span><span class="s7">${</span><span class="s1">result</span><span class="s7">.</span><span class="s1">error</span><span class="s7">.</span><span class="s1">message</span><span class="s7">}</span><span class="s8">`</span><span class="s7">;</span><span class="s1"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">throw</span><span class="s1"> </span><span class="s10">new</span><span class="s1"> </span><span class="s12">Error</span><span class="s7">(</span><span class="s1">detailedError</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s10">catch</span><span class="s1"> </span><span class="s7">(</span><span class="s1">error</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>console</span><span class="s7">.</span><span class="s1">error</span><span class="s7">(</span><span class="s8">'Error extrayendo tabla:'</span><span class="s7">,</span><span class="s1"> error</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>showModal</span><span class="s7">(</span><span class="s8">`Error extrayendo tabla: </span><span class="s7">${</span><span class="s1">error</span><span class="s7">.</span><span class="s1">message</span><span class="s7">}</span><span class="s8">`</span><span class="s7">,</span><span class="s1"> </span><span class="s10">true</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>errorMessageGlobal</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`Error: </span><span class="s7">${</span><span class="s1">error</span><span class="s7">.</span><span class="s1">message</span><span class="s7">}</span><span class="s8">`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>errorMessageGlobal</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s10">finally</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>extractButton</span><span class="s7">.</span><span class="s1">disabled </span><span class="s7">=</span><span class="s1"> </span><span class="s10">false</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>loadingSpinner</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>extractIcon</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>extractButtonText</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'Extraer Tabla'</span><span class="s7">;</span><span class="s1"> </span><span class="s13">// Texto del botón revertido</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>checkEnableExtractButton</span><span class="s7">();</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// resetAccumulatedButton y su lógica ELIMINADOS</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- Generar Resumen de Carrera (Texto) ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>generateSummaryButton</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s10">async</span><span class="s1"> </span><span class="s10">function</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">rawTableData </span><span class="s7">||</span><span class="s1"> rawTableData</span><span class="s7">.</span><span class="s1">length </span><span class="s7">===</span><span class="s1"> </span><span class="s14">0</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span>showModal</span><span class="s7">(</span><span class="s1">'No hay datos de tabla para generar un resumen.'</span><span class="s7">,</span><span class="s4"> </span><span class="s10">true</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>generateSummaryButton</span><span class="s7">.</span><span class="s1">disabled </span><span class="s7">=</span><span class="s1"> </span><span class="s10">true</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>summaryLoadingSpinner</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">(</span><span class="s1">generateSummaryButton</span><span class="s7">.</span><span class="s1">querySelector</span><span class="s7">(</span><span class="s8">'span'</span><span class="s7">)).</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'Generando Texto...'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>raceSummaryContainer</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span>raceSummaryContent</span><span class="s7">.</span><span class="s4">innerHTML </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'&lt;div class="summary-spinner-container"&gt;&lt;div class="spinner"&gt;&lt;/div&gt;&lt;/div&gt;'</span><span class="s7">;</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> carreraInfo </span><span class="s7">=</span><span class="s1"> selectCarrera</span><span class="s7">.</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> divisionInfo </span><span class="s7">=</span><span class="s1"> selectDivision</span><span class="s7">.</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> fechaInfo </span><span class="s7">=</span><span class="s1"> selectFecha</span><span class="s7">.</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">try</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// El resumen ya no necesita PUNTOS_ACUMULADOS</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> topPilots </span><span class="s7">=</span><span class="s1"> rawTableData</span><span class="s7">.</span><span class="s1">slice</span><span class="s7">(</span><span class="s14">0</span><span class="s7">,</span><span class="s1"> </span><span class="s14">5</span><span class="s7">).</span><span class="s1">map</span><span class="s7">(</span><span class="s1">p </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">({</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>pos</span><span class="s7">:</span><span class="s1"> p</span><span class="s7">[</span><span class="s8">"POS."</span><span class="s7">],</span><span class="s1"> nom</span><span class="s7">:</span><span class="s1"> p</span><span class="s7">[</span><span class="s8">"PILOTO"</span><span class="s7">],</span><span class="s1"> eq</span><span class="s7">:</span><span class="s1"> p</span><span class="s7">[</span><span class="s8">"EQUIPO"</span><span class="s7">],</span><span class="s1"> pts_carrera</span><span class="s7">:</span><span class="s1"> p</span><span class="s7">[</span><span class="s8">"PTS."</span><span class="s7">]</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}));</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s4"> summaryPrompt </span><span class="s7">=</span><span class="s4"> </span><span class="s1">`Eres un comentarista de F1 entusiasta. Acaba de terminar la </span><span class="s7">${</span><span class="s4">fechaInfo</span><span class="s7">}</span><span class="s1"> de la </span><span class="s7">${</span><span class="s4">divisionInfo</span><span class="s7">}</span><span class="s1"> en </span><span class="s7">${</span><span class="s4">carreraInfo</span><span class="s7">}</span><span class="s1">.<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>Resultados (Top </span><span class="s7">${</span><span class="s4">topPilots</span><span class="s7">.</span><span class="s4">length</span><span class="s7">}</span><span class="s1">): </span><span class="s7">${</span><span class="s12">JSON</span><span class="s7">.</span><span class="s4">stringify</span><span class="s7">(</span><span class="s4">topPilots</span><span class="s7">)}</span><span class="s1">.<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>Escribe un resumen vibrante (4-5 frases). Destaca al ganador de ESTA CARRERA (POS. "1"). Menciona su equipo y los puntos que sumó.<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>¡Usa exclamaciones! No inventes detalles no presentes. Empieza directo, sin "Aquí el resumen:".`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> payload </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> contents</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[{</span><span class="s1"> role</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"user"</span><span class="s7">,</span><span class="s1"> parts</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[{</span><span class="s1"> text</span><span class="s7">:</span><span class="s1"> summaryPrompt </span><span class="s7">}]</span><span class="s1"> </span><span class="s7">}]</span><span class="s1"> </span><span class="s7">};</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s4"> geminiApiKey </span><span class="s7">=</span><span class="s4"> </span><span class="s8">""</span><span class="s7">;</span><span class="s4"> </span><span class="s1">// Dejar vacío para modelos Gemini</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s4"> geminiApiUrl </span><span class="s7">=</span><span class="s4"> </span><span class="s1">`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=</span><span class="s7">${</span><span class="s4">geminiApiKey</span><span class="s7">}</span><span class="s1">`</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> response </span><span class="s7">=</span><span class="s1"> </span><span class="s10">await</span><span class="s1"> fetch</span><span class="s7">(</span><span class="s1">geminiApiUrl</span><span class="s7">,</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> method</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'POST'</span><span class="s7">,</span><span class="s1"> headers</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s8">'Content-Type'</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'application/json'</span><span class="s1"> </span><span class="s7">},</span><span class="s1"> body</span><span class="s7">:</span><span class="s1"> </span><span class="s12">JSON</span><span class="s7">.</span><span class="s1">stringify</span><span class="s7">(</span><span class="s1">payload</span><span class="s7">)</span><span class="s1"> </span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">response</span><span class="s7">.</span><span class="s1">ok</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s10">const</span><span class="s1"> errBody </span><span class="s7">=</span><span class="s1"> </span><span class="s10">await</span><span class="s1"> response</span><span class="s7">.</span><span class="s1">text</span><span class="s7">();</span><span class="s1"> </span><span class="s10">throw</span><span class="s1"> </span><span class="s10">new</span><span class="s1"> </span><span class="s12">Error</span><span class="s7">(</span><span class="s8">`API Resumen Texto: </span><span class="s7">${</span><span class="s1">response</span><span class="s7">.</span><span class="s1">status</span><span class="s7">}</span><span class="s8">. </span><span class="s7">${</span><span class="s1">errBody</span><span class="s7">}</span><span class="s8">`</span><span class="s7">);}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> result </span><span class="s7">=</span><span class="s1"> </span><span class="s10">await</span><span class="s1"> response</span><span class="s7">.</span><span class="s1">json</span><span class="s7">();</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">result</span><span class="s7">.</span><span class="s1">candidates </span><span class="s7">&amp;&amp;</span><span class="s1"> result</span><span class="s7">.</span><span class="s1">candidates</span><span class="s7">[</span><span class="s14">0</span><span class="s7">]?.</span><span class="s1">content</span><span class="s7">?.</span><span class="s1">parts</span><span class="s7">?.[</span><span class="s14">0</span><span class="s7">]?.</span><span class="s1">text</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>raceSummaryContent</span><span class="s7">.</span><span class="s1">innerHTML </span><span class="s7">=</span><span class="s1"> result</span><span class="s7">.</span><span class="s1">candidates</span><span class="s7">[</span><span class="s14">0</span><span class="s7">].</span><span class="s1">content</span><span class="s7">.</span><span class="s1">parts</span><span class="s7">[</span><span class="s14">0</span><span class="s7">].</span><span class="s1">text</span><span class="s7">.</span><span class="s1">replace</span><span class="s7">(</span><span class="s15">/\n/</span><span class="s10">g</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'&lt;br&gt;'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span><span class="s1"> </span><span class="s10">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s10">let</span><span class="s4"> detError </span><span class="s7">=</span><span class="s4"> </span><span class="s1">"No se pudo generar resumen. Respuesta API inesperada."</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">result</span><span class="s7">.</span><span class="s1">promptFeedback</span><span class="s7">?.</span><span class="s1">blockReason</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> detError </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`Resumen bloqueado. Razón: </span><span class="s7">${</span><span class="s1">result</span><span class="s7">.</span><span class="s1">promptFeedback</span><span class="s7">.</span><span class="s1">blockReason</span><span class="s7">}</span><span class="s8">.`</span><span class="s7">;</span><span class="s1"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">throw</span><span class="s1"> </span><span class="s10">new</span><span class="s1"> </span><span class="s12">Error</span><span class="s7">(</span><span class="s1">detError</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s10">catch</span><span class="s1"> </span><span class="s7">(</span><span class="s1">error</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>console</span><span class="s7">.</span><span class="s1">error</span><span class="s7">(</span><span class="s8">'Error generando resumen texto:'</span><span class="s7">,</span><span class="s1"> error</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>raceSummaryContent</span><span class="s7">.</span><span class="s1">innerHTML </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`&lt;p class="text-red-500"&gt;Error: </span><span class="s7">${</span><span class="s1">error</span><span class="s7">.</span><span class="s1">message</span><span class="s7">}</span><span class="s8">&lt;/p&gt;`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s10">finally</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>generateSummaryButton</span><span class="s7">.</span><span class="s1">disabled </span><span class="s7">=</span><span class="s1"> </span><span class="s10">false</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>summaryLoadingSpinner</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">(</span><span class="s1">generateSummaryButton</span><span class="s7">.</span><span class="s1">querySelector</span><span class="s7">(</span><span class="s8">'span'</span><span class="s7">)).</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'Generar Resumen de Carrera (Texto)'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- Funciones de Tabla y Exportación ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">function</span><span class="s1"> displayTable</span><span class="s7">(</span><span class="s1">data</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">data </span><span class="s7">||</span><span class="s1"> data</span><span class="s7">.</span><span class="s1">length </span><span class="s7">===</span><span class="s1"> </span><span class="s14">0</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span>tableContainer</span><span class="s7">.</span><span class="s4">innerHTML </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'&lt;p class="text-center text-slate-500"&gt;No se encontraron datos para mostrar.&lt;/p&gt;'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> table </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'table'</span><span class="s7">);</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span>table</span><span class="s7">.</span><span class="s4">className </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'min-w-full divide-y divide-slate-200 bg-white rounded-lg shadow'</span><span class="s7">;</span><span class="s4"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> thead </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'thead'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>thead</span><span class="s7">.</span><span class="s1">className </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'bg-slate-50'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> headerRow </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'tr'</span><span class="s7">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// ALL_TABLE_HEADERS ya no incluye PUNTOS_ACUMULADOS</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> displayHeaders </span><span class="s7">=</span><span class="s1"> </span><span class="s12">ALL_TABLE_HEADERS</span><span class="s7">.</span><span class="s1">map</span><span class="s7">(</span><span class="s1">key </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">switch</span><span class="s7">(</span><span class="s1">key</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s10">case</span><span class="s4"> </span><span class="s1">"MEJOR_TIEMPO"</span><span class="s7">:</span><span class="s4"> </span><span class="s10">return</span><span class="s4"> </span><span class="s1">"MEJOR TIEMPO"</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">case</span><span class="s1"> </span><span class="s8">"POS."</span><span class="s7">:</span><span class="s1"> </span><span class="s10">return</span><span class="s1"> </span><span class="s8">"POS."</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">case</span><span class="s1"> </span><span class="s8">"CARRERA"</span><span class="s7">:</span><span class="s1"> </span><span class="s10">return</span><span class="s1"> </span><span class="s8">"CARRERA"</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">case</span><span class="s1"> </span><span class="s8">"DIVISION"</span><span class="s7">:</span><span class="s1"> </span><span class="s10">return</span><span class="s1"> </span><span class="s8">"DIVISIÓN"</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">case</span><span class="s1"> </span><span class="s8">"FECHA"</span><span class="s7">:</span><span class="s1"> </span><span class="s10">return</span><span class="s1"> </span><span class="s8">"FECHA"</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">case</span><span class="s1"> </span><span class="s8">"PTS."</span><span class="s7">:</span><span class="s1"> </span><span class="s10">return</span><span class="s1"> </span><span class="s8">"PTS. (Carrera)"</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s1">// case "PUNTOS_ACUMULADOS" ELIMINADO</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">default</span><span class="s7">:</span><span class="s1"> </span><span class="s10">return</span><span class="s1"> key</span><span class="s7">.</span><span class="s1">charAt</span><span class="s7">(</span><span class="s14">0</span><span class="s7">).</span><span class="s1">toUpperCase</span><span class="s7">()</span><span class="s1"> </span><span class="s7">+</span><span class="s1"> key</span><span class="s7">.</span><span class="s1">slice</span><span class="s7">(</span><span class="s14">1</span><span class="s7">).</span><span class="s1">toLowerCase</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>displayHeaders</span><span class="s7">.</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">headerText </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> th </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'th'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>th</span><span class="s7">.</span><span class="s1">scope </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'col'</span><span class="s7">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span>th</span><span class="s7">.</span><span class="s4">className </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>th</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> headerText</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>headerRow</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">th</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>thead</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">headerRow</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>table</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">thead</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> tbody </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'tbody'</span><span class="s7">);</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span>tbody</span><span class="s7">.</span><span class="s4">className </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'bg-white divide-y divide-slate-200'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>data</span><span class="s7">.</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">rowData </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> tr </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'tr'</span><span class="s7">);</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// Iterar usando ALL_TABLE_HEADERS (que ya no tiene la columna de acumulados)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">ALL_TABLE_HEADERS</span><span class="s7">.</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">key </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">const</span><span class="s1"> td </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'td'</span><span class="s7">);</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                    </span>td</span><span class="s7">.</span><span class="s4">className </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'px-6 py-4 whitespace-nowrap text-sm text-slate-700'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>td</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> rowData</span><span class="s7">[</span><span class="s1">key</span><span class="s7">]</span><span class="s1"> </span><span class="s7">!==</span><span class="s1"> </span><span class="s10">undefined</span><span class="s1"> </span><span class="s7">&amp;&amp;</span><span class="s1"> rowData</span><span class="s7">[</span><span class="s1">key</span><span class="s7">]</span><span class="s1"> </span><span class="s7">!==</span><span class="s1"> </span><span class="s10">null</span><span class="s1"> </span><span class="s7">?</span><span class="s1"> </span><span class="s12">String</span><span class="s7">(</span><span class="s1">rowData</span><span class="s7">[</span><span class="s1">key</span><span class="s7">])</span><span class="s1"> </span><span class="s7">:</span><span class="s1"> </span><span class="s8">''</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>tr</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">td</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>tbody</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">tr</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>table</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">tbody</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>tableContainer</span><span class="s7">.</span><span class="s1">innerHTML </span><span class="s7">=</span><span class="s1"> </span><span class="s8">''</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>tableContainer</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">table</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>exportButton</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s10">function</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">rawTableData </span><span class="s7">||</span><span class="s1"> rawTableData</span><span class="s7">.</span><span class="s1">length </span><span class="s7">===</span><span class="s1"> </span><span class="s14">0</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span>showModal</span><span class="s7">(</span><span class="s1">'No hay datos válidos para exportar.'</span><span class="s7">,</span><span class="s4"> </span><span class="s10">true</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// ALL_TABLE_HEADERS ya no incluye PUNTOS_ACUMULADOS</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> csvHeaders </span><span class="s7">=</span><span class="s1"> </span><span class="s12">ALL_TABLE_HEADERS</span><span class="s7">.</span><span class="s1">map</span><span class="s7">(</span><span class="s1">key </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                 </span></span><span class="s10">switch</span><span class="s7">(</span><span class="s1">key</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s10">case</span><span class="s4"> </span><span class="s1">"MEJOR_TIEMPO"</span><span class="s7">:</span><span class="s4"> </span><span class="s10">return</span><span class="s4"> </span><span class="s1">"MEJOR TIEMPO"</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">case</span><span class="s1"> </span><span class="s8">"POS."</span><span class="s7">:</span><span class="s1"> </span><span class="s10">return</span><span class="s1"> </span><span class="s8">"POS."</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">case</span><span class="s1"> </span><span class="s8">"CARRERA"</span><span class="s7">:</span><span class="s1"> </span><span class="s10">return</span><span class="s1"> </span><span class="s8">"CARRERA"</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">case</span><span class="s1"> </span><span class="s8">"DIVISION"</span><span class="s7">:</span><span class="s1"> </span><span class="s10">return</span><span class="s1"> </span><span class="s8">"DIVISION"</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">case</span><span class="s1"> </span><span class="s8">"FECHA"</span><span class="s7">:</span><span class="s1"> </span><span class="s10">return</span><span class="s1"> </span><span class="s8">"FECHA"</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">case</span><span class="s1"> </span><span class="s8">"PTS."</span><span class="s7">:</span><span class="s1"> </span><span class="s10">return</span><span class="s1"> </span><span class="s8">"PTS_CARRERA"</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s1">// case "PUNTOS_ACUMULADOS" ELIMINADO</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">default</span><span class="s7">:</span><span class="s1"> </span><span class="s10">return</span><span class="s1"> key</span><span class="s7">.</span><span class="s1">toUpperCase</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s10">let</span><span class="s4"> csvContent </span><span class="s7">=</span><span class="s4"> </span><span class="s1">"data:text/csv;charset=utf-8,"</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>csvContent </span><span class="s7">+=</span><span class="s1"> csvHeaders</span><span class="s7">.</span><span class="s1">join</span><span class="s7">(</span><span class="s8">","</span><span class="s7">)</span><span class="s1"> </span><span class="s7">+</span><span class="s1"> </span><span class="s8">"\r\n"</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p6"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>rawTableData</span><span class="s7">.</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">row </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> csvRow </span><span class="s7">=</span><span class="s1"> </span><span class="s12">ALL_TABLE_HEADERS</span><span class="s7">.</span><span class="s1">map</span><span class="s7">(</span><span class="s1">headerKey </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">let</span><span class="s1"> cellData </span><span class="s7">=</span><span class="s1"> row</span><span class="s7">[</span><span class="s1">headerKey</span><span class="s7">]</span><span class="s1"> </span><span class="s7">===</span><span class="s1"> </span><span class="s10">null</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> row</span><span class="s7">[</span><span class="s1">headerKey</span><span class="s7">]</span><span class="s1"> </span><span class="s7">===</span><span class="s1"> </span><span class="s10">undefined</span><span class="s1"> </span><span class="s7">?</span><span class="s1"> </span><span class="s8">""</span><span class="s1"> </span><span class="s7">:</span><span class="s1"> </span><span class="s12">String</span><span class="s7">(</span><span class="s1">row</span><span class="s7">[</span><span class="s1">headerKey</span><span class="s7">]);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>cellData </span><span class="s7">=</span><span class="s1"> cellData</span><span class="s7">.</span><span class="s1">includes</span><span class="s7">(</span><span class="s8">','</span><span class="s7">)</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> cellData</span><span class="s7">.</span><span class="s1">includes</span><span class="s7">(</span><span class="s8">'"'</span><span class="s7">)</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> cellData</span><span class="s7">.</span><span class="s1">includes</span><span class="s7">(</span><span class="s8">'\n'</span><span class="s7">)</span><span class="s1"> </span><span class="s7">?</span><span class="s1"> </span><span class="s8">`"</span><span class="s7">${</span><span class="s1">cellData</span><span class="s7">.</span><span class="s1">replace</span><span class="s7">(</span><span class="s15">/"/</span><span class="s10">g</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'""'</span><span class="s7">)}</span><span class="s8">"`</span><span class="s1"> </span><span class="s7">:</span><span class="s1"> cellData</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">return</span><span class="s1"> cellData</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>csvContent </span><span class="s7">+=</span><span class="s1"> csvRow</span><span class="s7">.</span><span class="s1">join</span><span class="s7">(</span><span class="s8">","</span><span class="s7">)</span><span class="s1"> </span><span class="s7">+</span><span class="s1"> </span><span class="s8">"\r\n"</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> encodedUri </span><span class="s7">=</span><span class="s1"> encodeURI</span><span class="s7">(</span><span class="s1">csvContent</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> link </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">"a"</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>link</span><span class="s7">.</span><span class="s1">setAttribute</span><span class="s7">(</span><span class="s8">"href"</span><span class="s7">,</span><span class="s1"> encodedUri</span><span class="s7">);</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span>link</span><span class="s7">.</span><span class="s4">setAttribute</span><span class="s7">(</span><span class="s1">"download"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"tabla_resultados.csv"</span><span class="s7">);</span><span class="s4"> </span><span class="s13">// Nombre de archivo genérico</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>document</span><span class="s7">.</span><span class="s1">body</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">link</span><span class="s7">);</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>link</span><span class="s7">.</span><span class="s1">click</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>document</span><span class="s7">.</span><span class="s1">body</span><span class="s7">.</span><span class="s1">removeChild</span><span class="s7">(</span><span class="s1">link</span><span class="s7">);</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span>showModal</span><span class="s7">(</span><span class="s1">'¡Datos exportados a tabla_resultados.csv!'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">html</span><span class="s3">&gt;</span></p>
</body>
</html>
